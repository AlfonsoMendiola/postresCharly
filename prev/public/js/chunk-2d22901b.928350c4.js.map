{"version":3,"sources":["webpack:///./src/views/Ventas.vue?a935","webpack:///src/views/Ventas.vue","webpack:///./src/views/Ventas.vue?fa49","webpack:///./src/views/Ventas.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","class","disabled","paginaActual","query","pagina","_l","item","index","key","active","_s","cantidadPaginas","_m","formatearFecha","date","usuarioNombre","producto","indice","nombre","cantidad","costoTotal","precioTotal","utilidad","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d22901b.928350c4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h1',[_vm._v(\"Ventas\")]),_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.paginaActual === 1 }},[_c('router-link',{staticClass:\"page-link\",attrs:{\"to\":{ query: { pagina: _vm.paginaActual - 1 } }}},[_vm._v(\" Anterior \")])],1),_vm._l((_vm.cantidadPaginas),function(item,index){return _c('li',{key:index,staticClass:\"page-item\",class:{active: _vm.paginaActual === index + 1 }},[_c('router-link',{staticClass:\"page-link\",attrs:{\"to\":{ query: { pagina: index + 1 } }}},[_vm._v(_vm._s(index + 1))])],1)}),_c('li',{staticClass:\"page-item\",class:{ disabled: _vm.paginaActual === _vm.cantidadPaginas }},[_c('router-link',{staticClass:\"page-link\",attrs:{\"to\":{ query: { pagina: _vm.paginaActual + 1 } }}},[_vm._v(\" Siguiente \")])],1)],2)]),_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.ventas),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(_vm.formatearFecha(item.date)))]),_c('td',[_vm._v(_vm._s(item.usuarioNombre))]),_c('td',_vm._l((item.orden),function(producto,indice){return _c('ul',{key:indice},[_c('li',[_vm._v(_vm._s(producto.nombre)+\" -> \"+_vm._s(producto.cantidad))])])}),0),_c('td',[_vm._v(_vm._s(item.costoTotal))]),_c('td',[_vm._v(_vm._s(item.precioTotal))]),_c('td',[_vm._v(_vm._s(item.utilidad))])])}),0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Registro\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Usuario\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"producto -> Cantidad\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Costo Total\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Precio Total\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Utilidad\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n      <h1>Ventas</h1>\n\n      <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination\">\n            <li class=\"page-item\" :class=\"{ disabled: paginaActual === 1 }\">\n                <router-link class=\"page-link\" :to=\"{ query: { pagina: paginaActual - 1 } }\">\n                    Anterior\n                </router-link>\n            </li>\n            <li class=\"page-item\" :class=\"{active: paginaActual === index + 1 }\" v-for=\"(item, index) in cantidadPaginas\" :key=\"index\">\n                <router-link :to=\"{ query: { pagina: index + 1 } }\" class=\"page-link\" >{{ index + 1 }}</router-link>\n            </li>\n            <li class=\"page-item\" :class=\"{ disabled: paginaActual === cantidadPaginas }\">\n                <router-link class=\"page-link\" :to=\"{ query: { pagina: paginaActual + 1 } }\">\n                    Siguiente\n                </router-link>\n            </li>\n        </ul>\n    </nav>\n\n      <table class=\"table\">\n        <thead>\n            <tr>\n                <th scope=\"col\">Registro</th>\n                <th scope=\"col\">Usuario</th>\n                <th scope=\"col\">producto -> Cantidad</th>\n                <th scope=\"col\">Costo Total</th>\n                <th scope=\"col\">Precio Total</th>\n                <th scope=\"col\">Utilidad</th>\n            </tr>\n        </thead>\n\n        <tbody>\n            <tr v-for=\"(item, index) in ventas\" :key=\"index\">\n                <td>{{ formatearFecha(item.date) }}</td>\n                <td>{{ item.usuarioNombre }}</td>\n                <td>\n                    <ul v-for=\"(producto, indice) in item.orden\" :key=\"indice\">\n                        <li>{{producto.nombre}} -> {{producto.cantidad}}</li>\n                    </ul>\n                </td>\n                <td>{{ item.costoTotal }}</td>\n                <td>{{ item.precioTotal }}</td>\n                <td>{{ item.utilidad }}</td>\n            </tr>\n      </tbody>\n    </table>\n\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex'\nimport moment from 'moment'\nexport default {\n    data() {\n        return {\n            totalVentas: 0,\n            limite: 50,\n            paginaActual: 1,\n\n            ventas: [],\n            \n        }\n    },\n    computed: {\n        ...mapState([\"token\", \"usuarioDB\"]),\n        cantidadPaginas(){\n            return Math.ceil(this.totalVentas / this.limite)\n        }\n    },\n    methods: {\n        paginacion(pagina){\n            let config = {\n                headers: {token: this.token}\n            }\n            let skip = (pagina - 1) * this.limite\n\n            this.axios\n                .get(`/venta/ver-paginados?limite=${this.limite}&skip=${skip}`, config)\n                .then(res => {\n                    console.log(res.data.ventaDB);\n                    this.ventas = res.data.ventaDB;\n                    this.totalVentas = res.data.totalVentas;\n                })\n                .catch(err => {\n                    console.log(err.response)\n                })\n        },\n        formatearFecha(fecha){\n            moment.locale('es-mx');\n            return moment(fecha).format('L');\n        }\n        \n    },\n    watch:{\n      \"$route.query.pagina\":{\n        immediate: true,\n        handler(pagina){\n          pagina = parseInt(pagina) || 1;\n          this.paginacion(pagina);\n          this.paginaActual = pagina;\n        }\n      }\n    }\n\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ventas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ventas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ventas.vue?vue&type=template&id=10c3a7ba&\"\nimport script from \"./Ventas.vue?vue&type=script&lang=js&\"\nexport * from \"./Ventas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}